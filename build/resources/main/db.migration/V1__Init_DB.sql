
--
-- CREATE TABLE "Lead" (
--                                "Id" serial NOT NULL,
--                                "FirstName" character varying NOT NULL,
--                                "LastName" character varying NOT NULL,
--                                "MiddleName" character varying,
--                                "PhoneNumber" character varying NOT NULL,
--                                "Email" character varying NOT NULL,
--                                "Gender" BOOLEAN NOT NULL,
--                                "DateofBirth" DATE NOT NULL,
--                                "Login" character varying NOT NULL,
--                                "Password" character varying NOT NULL,
--                                CONSTRAINT "Lead_pk" PRIMARY KEY ("Id")
-- ) WITH (
--       OIDS=FALSE
--     );
--
--
--
-- CREATE TABLE "Account" (
--                                   "Id" serial NOT NULL,
--                                   "LeadId" serial NOT NULL,
--                                   "Type" bigserial NOT NULL,
--                                   CONSTRAINT "Account_pk" PRIMARY KEY ("Id")
-- ) WITH (
--       OIDS=FALSE
--     );
--
--
--
-- CREATE TABLE "SubscriptionType" (
--                                            "Id" serial NOT NULL,
--                                            "Title" bigserial NOT NULL,
--                                            CONSTRAINT "SubscriptionType_pk" PRIMARY KEY ("Id")
-- ) WITH (
--       OIDS=FALSE
--     );
--
--
--
--
-- ALTER TABLE "Account" ADD CONSTRAINT "Account_fk0" FOREIGN KEY ("LeadId") REFERENCES "Lead"("Id");
-- ALTER TABLE "Account" ADD CONSTRAINT "Account_fk1" FOREIGN KEY ("Type") REFERENCES "SubscriptionType"("Id");


create table account (
    id int8 generated by default as identity,
    type int8 not null,
    lead_id int8 not null,
    primary key (id)
                     );
create table lead (
    id int8 generated by default as identity,
    dateof_birth timestamp, email varchar(255),
    first_name varchar(255), gender boolean not null,
    last_name varchar(255),
    login varchar(255),
    middle_name varchar(255),
    password varchar(255),
    phone_number varchar(255),
    primary key (id)
                  );
create table subscription_type (
    id int8 generated by default as identity,
    title varchar(255),
    primary key (id)
                               );

alter table if exists account add constraint FKdla8jxchbmuf5yxyyp39ygf58 foreign key (type) references subscription_type;

alter table if exists account add constraint FKgva8br7vnn3jjug9oeygf6bgx foreign key (lead_id) references lead;


